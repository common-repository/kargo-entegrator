import{o as r,b as p,a as e,g as V,s as j,c as w,w as t,f as c,t as n,j as m,u as g,v as te,k as P,h as O,r as F,e as D,F as x,m as S,n as T,x as se,i as ae,y as ne,z as oe,A as re,B as k,C as le}from"../vendor-1-0-35.js";import{_ as ie}from"../Page-1-0-35.js";import{u as A,a as I,_ as de,c as ce,b as G,s as ue}from"../fields-1-0-35.js";import{_ as K,u as z,a as _e}from"../ResourceStore-1-0-35.js";import{_ as Y}from"../MdrTable-1-0-35.js";import{_ as me}from"../MdrModal-1-0-35.js";import{s as W,d as pe,u as R}from"../Loading-1-0-35.js";import{i as fe}from"../admin-app-1-0-35.js";const H=(i,a)=>{const o=i.__vccOpts||i;for(const[d,l]of a)o[d]=l;return o},ge={},$e={class:"flex flex-col bg-white rounded-lg gap-2"},he={class:"flex flex-col gap-1"},ve={class:"text-xl font-semibold text-primary-600"},ye={class:"text-gray-400 my-2"},we={class:"mt-2"},be={class:"flex justify-start mt-2"};function xe(i,a){return r(),p("div",$e,[e("div",he,[e("h3",ve,[V(i.$slots,"title")]),e("span",ye,[V(i.$slots,"description")]),a[0]||(a[0]=e("div",{class:"border border-gray-200"},null,-1))]),e("div",we,[V(i.$slots,"default")]),e("div",be,[V(i.$slots,"actions")])])}const U=H(ge,[["render",xe]]),ke={class:"flex flex-col gap-3"},Se={class:"text-sm mt-3"},Ce={key:0},Ve={class:"underline text-primary-600",href:"https://app.kargoentegrator.com",target:"_blank"},Ae={key:1},Te={class:"text-green-600 font-medium"},q={__name:"Connection",setup(i){const{saveApiKey:a}=A(),{apiKey:o}=j(A()),d=A().apiKey;return(l,s)=>(r(),w(U,null,{title:t(()=>[c(n(l.$t("connection")),1)]),description:t(()=>[c(n(l.$t("connection_top",["Kargo Entegratör"])),1)]),default:t(()=>[e("div",ke,[m(I,{modelValue:g(o),"onUpdate:modelValue":s[0]||(s[0]=_=>te(o)?o.value=_:null),label:l.$t("api_key"),class:"!w-1/2"},null,8,["modelValue","label"]),m(K,{class:"max-w-fit",onClick:s[1]||(s[1]=_=>g(a)(g(o)))},{default:t(()=>[c(n(l.$t("save")),1)]),_:1}),e("div",Se,[g(d)?(r(),p("div",Ae,[e("span",Te,"✅ "+n(l.$t("api_key_success")),1)])):(r(),p("div",Ce,[c(n(l.$t("not-api-key"))+" ",1),e("a",Ve,n(l.$t("sign_up_now")),1)]))])])]),_:1}))}},Ue={},Be={class:"text-xs font-medium px-2.5 py-1 cursor-pointer min-h-4 text-center bg-primary-100 text-primary-800 dark:bg-primary-900 dark:text-primary-300 rounded"},Ee={class:"break-words"};function Fe(i,a){return r(),p("div",Be,[e("span",Ee,[V(i.$slots,"default")])])}const J=H(Ue,[["render",Fe]]),je={class:"flex justify-between items-end"},Me={class:"flex gap-2 items-center"},Oe={class:"grid grid-cols-2 gap-4"},De={class:"flex justify-between items-end w-full"},Ke={class:"flex gap-2"},Ne={class:"flex gap-2"},We={__name:"Warehouses",setup(i){const{t:a}=P(),{warehouses:o}=j(z()),{store:d,index:l,update:s,destroy:_}=z(),f={id:"",name:"",person_name:"",person_surname:"",phone:"",email:"",city:"",district:"",address:"",is_default:!0},h=O(!1),B=O({}),v=O(f),y=async u=>{v.value=u||f,h.value=!0},b=async()=>{o.value=await l({data:{resource:"warehouses"}}),h.value=!1},M=async()=>{await s({data:{resource:"warehouses",data:v.value,id:v.value.id},onValidationError:u=>{B.value=u.errors}}),await b(),W(a("resource_updated",[a("warehouse")]))},E=async()=>{await d({data:{resource:"warehouses",data:v.value},onValidationError:u=>{B.value=u.errors}}),await b(),W(a("resource_added",[a("warehouse")]))},L=()=>{pe(a("resource_delete",[a("warehouse")])).on("pnotify:confirm",async()=>{await _({data:{resource:"warehouses",id:v.value.id}}),await b(),W(a("resource_deleted",[a("warehouse")]))})},N=async()=>{await s({data:{resource:"warehouses",data:{is_default:!0},id:v.value.id}}),await b(),W(a("resource_updated",[a("warehouse")]))};return(u,C)=>{const Q=F("time-format"),X=F("trash-icon"),Z=F("check-badge-icon");return r(),w(U,null,{title:t(()=>[e("div",je,[c(n(u.$t("warehouses"))+" ",1),m(K,{onClick:C[0]||(C[0]=$=>y())},{default:t(()=>[c(n(u.$t("add")),1)]),_:1})])]),description:t(()=>[c(n(u.$t("warehouses_top",["Kargo Entegratör"])),1)]),default:t(()=>[m(Y,{items:g(o),"not-found-text":u.$t("record_not_found",[u.$t("warehouse")]),headers:[{title:u.$t("warehouse_name"),key:"name"},{title:u.$t("address"),key:"address"},{title:`${u.$t("district")}/${u.$t("city")}`,key:"city"},{title:u.$t("created_at"),key:"created_at"}],onTrClicked:y},{name:t(({item:$})=>[e("div",Me,[e("span",null,n($.name),1),$.is_default?(r(),w(J,{key:0,class:"!bg-green-200 !text-green-600"},{default:t(()=>[c(n(u.$t("default")),1)]),_:1})):D("",!0)])]),city:t(({item:$})=>[c(n(`${$.district}/${$.city}`),1)]),created_at:t(({item:$})=>[m(Q,{date:$.created_at},null,8,["date"])]),_:1},8,["items","not-found-text","headers"]),m(me,{modelValue:h.value,"onUpdate:modelValue":C[3]||(C[3]=$=>h.value=$)},{title:t(()=>[c(n(v.value.id?u.$t("resource_update",[u.$t("warehouse")]):u.$t("resource_add",[u.$t("warehouse")])),1)]),actions:t(()=>[e("div",De,[e("div",Ke,[!v.value.is_default&&v.value.id?(r(),p(x,{key:0},[e("span",{class:"underline text-xs cursor-pointer flex items-end",onClick:L},[m(X,{class:"w-4"}),c(" "+n(u.$t("delete")),1)]),e("span",{class:"underline text-xs text-primary-600 cursor-pointer flex items-end",onClick:N},[m(Z,{class:"w-4"}),c(" "+n(u.$t("set_default")),1)])],64)):D("",!0)]),e("div",Ne,[m(de,{onClick:C[1]||(C[1]=$=>h.value=!h.value)},{default:t(()=>[c(n(u.$t("cancel")),1)]),_:1}),m(K,{onClick:C[2]||(C[2]=$=>v.value.id?M():E())},{default:t(()=>[c(n(v.value.id?u.$t("update"):u.$t("add")),1)]),_:1})])])]),default:t(()=>[e("div",Oe,[(r(),p(x,null,S(["name","person_name","person_surname","phone","email","city","district","address"],$=>m(I,{key:$,modelValue:v.value[$],"onUpdate:modelValue":ee=>v.value[$]=ee,class:T($==="name"||$==="address"?"col-span-2":""),label:u.$t($),error:B.value[$],required:""},null,8,["modelValue","onUpdate:modelValue","class","label","error"])),64))])]),_:1},8,["modelValue"])]),_:1})}}},Le={class:"w-full text-sm text-left text-gray-500"},ze={class:"text-xs text-gray-700 bg-gray-50"},He={scope:"row",class:"px-6 py-4 w-1/12"},Re={class:"px-6 py-4"},qe={class:"px-6 py-4"},Pe={__name:"WCOrderStatusSettings",setup(i){var v;const a=A(),{wcOrderSettings:o,wcOrderStatus:d}=j(a),l={non_processed:"Gönderime Hazır",shipped:"Yola Çıktı",on_transit:"Taşıma Sürecinde",at_delivery_center:"Dağıtım Merkezinde",in_courier:"Dağıtıma Çıktı",delivered:"Teslim Edildi"},s=O({}),_=O({}),f=new Map;d.value.forEach(({key:y,text:b})=>{f.set(y,b)});const h=Array.from(f,([y,b])=>({value:y,text:b}));(v=o.value)==null||v.forEach(y=>{s.value[y.key]=y.active,_.value[y.key]=y.status});const B=()=>{const y=Object.keys(l).map(b=>({key:b,status:_.value[b]||"",active:s.value[b]||!1}));a.updateWcOrderSettings(y)};return(y,b)=>(r(),w(U,null,{title:t(()=>[e("div",null,n(y.$t("wc_order_status_title")),1)]),description:t(()=>[c(n(y.$t("wc_order_status_desc")),1)]),actions:t(()=>[m(K,{class:"max-w-fit mt-5",onClick:B},{default:t(()=>[c(n(y.$t("save")),1)]),_:1})]),default:t(()=>[e("div",null,[e("table",Le,[e("thead",ze,[e("tr",null,[(r(),p(x,null,S(["Aktiflik","Kargo Durumu","","Sipariş Durumu"],M=>e("th",{key:M,scope:"col",class:"px-6 py-3"},n(M),1)),64))])]),e("tbody",null,[(r(),p(x,null,S(l,(M,E,L)=>e("tr",{key:E,class:T(`${L%2!==0?"bg-white":"bg-gray-50"} border-b`)},[e("td",He,[m(ce,{modelValue:s.value[E],"onUpdate:modelValue":N=>s.value[E]=N},null,8,["modelValue","onUpdate:modelValue"])]),e("td",Re,n(M),1),e("td",null,[m(g(se),{class:"w-5 h-5"})]),e("td",qe,[m(G,{modelValue:_.value[E],"onUpdate:modelValue":N=>_.value[E]=N,options:g(h),"value-key":"value","text-key":"text"},null,8,["modelValue","onUpdate:modelValue","options"])])],2)),64))])])])]),_:1}))}},Ie=["textContent"],Ge=["textContent"],Ye={__name:"WordPress",setup(i){const a=window.gcargo.status.wordpress;return(o,d)=>(r(),p("div",null,[d[0]||(d[0]=e("div",{class:"text-indigo-600 mb-2 font-medium"},"WordPress",-1)),(r(!0),p(x,null,S(g(a),(l,s)=>(r(),p("div",{key:s,class:T(`flex flex-row items-center justify-between p-2 ${s%2===0?"bg-gray-100":""}`)},[e("span",{textContent:n(l.label)},null,8,Ie),e("span",{textContent:n(l.value)},null,8,Ge)],2))),128))]))}},Je=["textContent"],Qe=["textContent"],Xe={__name:"Server",setup(i){const a=window.gcargo.status.server;return(o,d)=>{const l=F("SettingsCard");return r(),w(l,null,{default:t(()=>[d[0]||(d[0]=e("div",{class:"text-indigo-600 mb-2 font-medium"},"Server",-1)),(r(!0),p(x,null,S(g(a),(s,_)=>(r(),p("div",{key:_,class:T(`flex flex-row items-center justify-between p-2 ${_%2===0?"bg-gray-100":""}`)},[e("span",{textContent:n(s.label)},null,8,Je),e("span",{textContent:n(s.value)},null,8,Qe)],2))),128))]),_:1})}}},Ze=["textContent"],et=["textContent"],tt={__name:"WooCommerce",setup(i){const a=window.gcargo.status.woocommerce;return(o,d)=>{const l=F("SettingsCard");return r(),w(l,null,{default:t(()=>[d[0]||(d[0]=e("div",{class:"text-indigo-600 mb-2 font-medium"},"WooCommerce",-1)),(r(!0),p(x,null,S(g(a),(s,_)=>(r(),p("div",{key:_,class:T(`flex flex-row items-center justify-between p-2 ${_%2===0?"bg-gray-100":""}`)},[e("span",{textContent:n(s.label)},null,8,Ze),e("span",{textContent:n(s.value)},null,8,et)],2))),128))]),_:1})}}},st={class:"flex flex-col gap-8"},at={__name:"Status",setup(i){return(a,o)=>(r(),w(U,null,{title:t(()=>o[0]||(o[0]=[c(" Durum ")])),default:t(()=>[e("div",st,[m(Ye),m(tt),m(Xe)])]),_:1}))}},nt=["for"],ot=["id","value","checked"],rt={class:"ms-2 text-sm"},lt={class:"ms-2 text-sm font-medium text-gray-900 dark:text-gray-300"},it={key:0,class:"ms-2 text-xs font-normal text-gray-500"},dt={__name:"MdrToggle",props:{modelValue:[Number,String,Boolean,Array],id:{type:String,default:()=>Math.random().toString(20).substr(2,10)},name:{type:String,default:""},value:{type:String,default:""},checked:{type:Boolean,default:!1},falseValue:{type:[Boolean,String,Number],default:!1},description:{type:String,default:""}},emits:["update:modelValue"],setup(i,{emit:a}){const o=i,d=a,l=ae({get(){return o.modelValue},set(s){d("update:modelValue",s)}});return(s,_)=>(r(),p("label",{class:"inline-flex items-center cursor-pointer",for:i.id},[ne(e("input",{id:i.id,"onUpdate:modelValue":_[0]||(_[0]=f=>l.value=f),type:"checkbox",value:i.value,class:"sr-only peer",checked:i.checked},null,8,ot),[[oe,l.value]]),_[1]||(_[1]=e("div",{class:"relative w-11 h-6 bg-gray-200 rounded-full peer peer-focus:ring-4 peer-focus:ring-primary-300 dark:peer-focus:ring-primary-800 dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-0.5 after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-primary-800"},null,-1)),e("div",rt,[e("span",lt,[V(s.$slots,"default")]),i.description?(r(),p("p",it,n(i.description),1)):D("",!0)])],8,nt))}},ct={__name:"OtherSettings",setup(i){const{updateOtherSetting:a}=A(),{otherSettings:o}=j(A()),d=()=>{a({admin_bar_menu:o.value.admin_bar_menu})};return(l,s)=>(r(),w(U,null,{title:t(()=>[c(n(l.$t("other_settings")),1)]),description:t(()=>[c(n(l.$t("other_settings_decs")),1)]),actions:t(()=>[m(K,{class:"max-w-fit mt-5",onClick:d},{default:t(()=>[c(n(l.$t("save")),1)]),_:1})]),default:t(()=>[e("div",null,[m(dt,{id:"admin_menu_settings",modelValue:g(o).admin_bar_menu,"onUpdate:modelValue":s[0]||(s[0]=_=>g(o).admin_bar_menu=_),description:l.$t("other_settings_toggle_desc")},{default:t(()=>[c(n(l.$t("admin_menu-settings_title")),1)]),_:1},8,["modelValue","description"])])]),_:1}))}},ut={class:"flex justify-between items-end"},_t={class:"flex gap-2 items-center"},mt={class:"flex items-center gap-2"},pt=["src"],ft={class:"flex gap-2 items-center"},gt={__name:"CargoIntegrations",setup(i){const{cargoIntegrations:a}=j(z());return(o,d)=>{const l=F("time-format");return r(),w(U,null,{title:t(()=>[e("div",ut,[c(n(o.$t("cargo_integrations"))+" ",1),e("div",_t,[m(_e,{link:"https://yardim.gurmehub.com/docs/kargo-entegrator/woocommerce-eklentisi/kargo-entegrasyonu-ekleyin/",target:"_blank"},{default:t(()=>[c(n(o.$t("how_add_shipping_account")),1)]),_:1}),m(K,{target:"_blank",link:"https://app.kargoentegrator.com/integration/cargo",class:"gap-2"},{default:t(()=>[c(n(o.$t("add_new_cargo_account"))+" ",1),m(g(re),{class:"w-4 h-4"})]),_:1})])])]),description:t(()=>[c(n(o.$t("cargo_integrations_top",["Kargo Entegratör"])),1)]),default:t(()=>[m(Y,{"not-found-text":o.$t("record_not_found",[o.$t("cargo_integration")]),items:g(a),headers:[{title:"Firma",key:"company_id"},{title:"Tarih",key:"created_at"}]},{company_id:t(({item:s})=>[e("div",mt,[e("img",{src:s.company_info.logo,class:"max-h-12 object-contain"},null,8,pt),e("div",ft,[e("span",null,n(s.name),1),s.is_default?(r(),w(J,{key:0,class:"!bg-green-200 !text-green-600"},{default:t(()=>d[0]||(d[0]=[c("Varsayılan")])),_:1})):D("",!0)])])]),created_at:t(({item:s})=>[m(l,{date:s.created_at},null,8,["date"])]),_:1},8,["not-found-text","items"])]),_:1})}}},$t={class:"grid grid-cols-3 gap-4"},ht={__name:"Shipment",setup(i){const{t:a}=P(),{updateShipmentSetting:o}=A(),{shipmentSetting:d}=j(A()),l=async()=>{await o({data:{data:d.value}})};return(s,_)=>(r(),w(U,null,{title:t(()=>[c(n(s.$t("shipment")),1)]),description:t(()=>[c(n(s.$t("shipment_desc")),1)]),default:t(()=>[e("div",$t,[(r(!0),p(x,null,S(g(ue)(g(a)),f=>(r(),w(G,{key:f.model,modelValue:g(d)[`${f.model}`],"onUpdate:modelValue":h=>g(d)[`${f.model}`]=h,label:f.label,options:f.options,"value-key":"value","text-key":"text",onChange:l},null,8,["modelValue","onUpdate:modelValue","label","options"]))),128))])]),_:1}))}},vt={class:"flex justify-between items-center"},yt=["innerHTML"],wt={__name:"HttpLogs",setup(i){const{httpLogs:a}=j(R()),{clearLogs:o}=R(),d=async()=>{await o(),a.value=""};return(l,s)=>{const _=F("trash-icon");return r(),w(U,null,{title:t(()=>[e("div",vt,[c(n(l.$t("http_logs"))+" ",1),e("span",{class:"flex text-gray-600 text-xs underline cursor-pointer",onClick:s[0]||(s[0]=f=>d())},[m(_,{class:"w-4"}),c(" "+n(l.$t("clear")),1)])])]),default:t(()=>[e("div",{class:"flex flex-col gap-1 max-h-96 h-96 overflow-auto p-4 bg-slate-100 shadow-inner rounded-lg",style:{"font-family":"Consolas, Monaco, monospace"},innerHTML:g(a).replace(/\n/g,"<br />")},null,8,yt)]),_:1})}}},bt={},xt={class:"pl-8 py-1 text-[12px] font-[700]"};function kt(i,a){return r(),p("div",xt,[V(i.$slots,"default")])}const St=H(bt,[["render",kt]]),Ct=["src"],Vt={key:0,class:"text-white py-2 px-1 text-center text-[12px] absolute top-0 right-5 rounded-b-full",style:{"background-color":"#0056ff","background-image":"linear-gradient(19deg, #0056ff 30%, #b721ff 100%)"}},At={__name:"NavElement",props:{active:{type:Boolean,default:!1},icon:{type:String,required:!0},newBadge:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(i){const a=window.gcargo.assets_url;return(o,d)=>(r(),p("div",{class:T(`relative py-4 pl-8 border-l-4 border-b  flex items-center font-medium text-sm
   ${i.active?" bg-white border-l-blue-800":" border-l-[#FAFAFA] bg-[#FAFAFA]"}
    ${i.disabled?" cursor-not-allowed":" cursor-pointer"}`)},[e("img",{class:"w-5 h-5 mr-3 text-blue-600",src:`${g(a)}/images/settings/${i.icon}.svg`,alt:""},null,8,Ct),e("div",{class:T(`${i.active?" text-blue-800 font-bold":"text-[#6E778A]"} flex gap-2 w-full items-center `)},[V(o.$slots,"default")],2),i.newBadge?(r(),p("div",Vt,n(o.$t("new")),1)):D("",!0)],2))}},Tt={class:"w-full flex"},Ut={key:0,class:"w-1/5 flex flex-col bg-[#FAFAFA] py-8 rounded-l-lg space-y-8"},Bt={__name:"App",setup(i){const a=k(q),o=window.gcargo.api_key,d=O([{sectionTitle:"general_settings",sections:[{title:"connection",component:k(q),active:!0},{title:"shipment",component:k(ht)},{title:"warehouses",component:k(We)},{title:"wc_order_settings",component:k(Pe)}]},{sectionTitle:"integration_settings",sections:[{title:"cargo_integrations",component:k(gt)}]},{sectionTitle:"other",sections:[{title:"other_settings",component:k(ct)},{title:"http_logs",component:k(wt)},{title:"status",component:k(at)}]}]),l=s=>{d.value.forEach(_=>{_.sections.forEach(f=>{f.active=f.title===s,f.title===s&&(a.value=f.component)})})};return(s,_)=>(r(),w(ie,{text:s.$t("settings"),href:"https://yardim.gurmehub.com/docs/kargo-entegrator/?utm_source=wp_plugin&utm_medium=referal&utm_campaign=footer"},{default:t(()=>[e("div",Tt,[g(o)?(r(),p("div",Ut,[(r(!0),p(x,null,S(d.value,f=>(r(),p("div",{key:f.sectionTitle},[m(St,null,{default:t(()=>[c(n(s.$t(f.sectionTitle)),1)]),_:2},1024),(r(!0),p(x,null,S(f.sections,(h,B)=>(r(),w(At,{id:h.title,key:B,icon:h.title,active:h.active,"new-badge":h.newBadge,disabled:h.disabled,onClick:v=>h.disabled?!1:l(h.title)},{default:t(()=>[c(n(s.$t(h.title)),1)]),_:2},1032,["id","icon","active","new-badge","disabled","onClick"]))),128))]))),128))])):D("",!0),e("div",{class:T(`${g(o)?"w-4/5":"w-full"}  flex flex-col bg-white rounded-r-lg p-8 relative`)},[(r(),w(le(a.value)))],2)])]),_:1},8,["text"]))}};fe(Bt);
